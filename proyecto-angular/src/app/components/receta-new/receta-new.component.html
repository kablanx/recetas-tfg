<div class="container">
  <div class="col-md-6 mx-auto">
    <h2 class="text-center">{{ titulo }}</h2>

    <form #recetaNew="ngForm" (ngSubmit)="onSubmit(recetaNew)">
      <div class="form-group">
        <label for="nombre">Nombre de la receta</label>
        <input
          type="text"
          name="nombre"
          #nombre="ngModel"
          [(ngModel)]="receta.nombre"
          class="form-control"
          required
          minlength="1"
        />
        <span *ngIf="!nombre.valid && nombre.touched">
          El nombre no es válido!!
        </span>
      </div>
      <div class="form-group">
        <label for="ingredientes">Ingredientes</label>
        <textarea
          name="ingredientes"
          #nombre="ngModel"
          [(ngModel)]="receta.ingredientes"
          class="form-control"
          required
        >
        </textarea>
        <!-- <span *ngIf="!ingredientes.valid && ingredientes.touched">
          El nombre no es válido!!
        </span> -->
      </div>
      <div class="form-group">
        <label for="descripcion">Descripción</label>
        <textarea
          name="descripcion"
          #nombre="ngModel"
          [(ngModel)]="receta.descripcion"
          class="form-control"
          required
        >
        </textarea>
        <!--  <span *ngIf="!descripcion.valid && descripcion.touched">
          El nombre no es válido!!
        </span> -->
      </div>
      <div class="form-group">
        <label for="nImagenes">Nº de imágenes:</label>
        <input
          type="number"
          onKeyDown="return false"
          [(ngModel)]="nImagenes"
          name="nImagenes"
          id="nImagenes"
          min="1"
          max="3"
          value="1"
        />
        <div class="mt-2" *ngIf="nImagenes == 1">
          <angular-file-uploader

            [config]="afuConfig"
            (ApiResponse)="image1Upload($event)"
          >
          </angular-file-uploader>
        </div>
        <div class="mt-2" *ngIf="nImagenes == 2">
          <angular-file-uploader
            [config]="afuConfig"
            (ApiResponse)="image1Upload($event)"
          >
          </angular-file-uploader>
          <br>
          <angular-file-uploader
            [config]="afuConfigImage"
            (ApiResponse)="image2Upload($event)"
          >
          </angular-file-uploader>
        </div>
        <div class="mt-2" *ngIf="nImagenes == 3">
          <angular-file-uploader
            [config]="afuConfig"
            (ApiResponse)="image1Upload($event)"
          >
          </angular-file-uploader>
          <br>
          <angular-file-uploader
            [config]="afuConfigImage"
            (ApiResponse)="image2Upload($event)"
          >
          </angular-file-uploader>
          <br>
          <angular-file-uploader
            [config]="afuConfigImage"
            (ApiResponse)="image3Upload($event)"
          >
          </angular-file-uploader>
        </div>
      </div>
      <div class="form-group">
        <label for="nVideos">Nº de vídeos:</label>
        <input
          type="number"
          onKeyDown="return false"
          [(ngModel)]="nVideos"
          name="nVideos"
          id="nVideos"
          min="1"
          max="2"
          value="1"
        />

        <div class="mt-2" *ngIf="nVideos == 1">
          <angular-file-uploader
            [config]="afuConfigVideo"
            (ApiResponse)="video1Upload($event)"
          >
          </angular-file-uploader>
        </div>
        <div class="mt-2" *ngIf="nVideos == 2">
          <angular-file-uploader
            [config]="afuConfigVideo"
            (ApiResponse)="video1Upload($event)"
          >
          </angular-file-uploader>
          <br>
          <angular-file-uploader
            [config]="afuConfigVideo"
            (ApiResponse)="video2Upload($event)"
          >
          </angular-file-uploader>
        </div>
      </div>
      <!--  <p *ngFor="let i=nImagenes.value, nImagenes of">
        <p>
          <label for="nVideos">Nº vídeos:</label>
          <input
            type="number"
            onKeyDown="return false"
            [(ngModel)]="nVideos"
            name="nVideos"
            id="nVideos"
            min="1"
            max="2"
            value="1"
          />
        </p>
        <div *ngIf="nVideos == 1">
          <p>
            <input type="file" name="video1" id="video1" />
          </p>
        </div>
        <div *ngIf="nVideos == 2">
          <p>
            <input type="file" name="video1" id="video1" />
          </p>
          <p>
            <input type="file" name="video2" id="video2" />
          </p>
        </div> -->
      <input
        type="submit"
        value="Crear receta"
        class="btn btn-primary btn-block"
      />
    </form>
  </div>
</div>
