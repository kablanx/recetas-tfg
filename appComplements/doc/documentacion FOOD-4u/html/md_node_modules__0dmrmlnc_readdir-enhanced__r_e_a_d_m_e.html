<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Food4uDoc: Enhanced &lt;tt&gt;fs.readdir()&lt;/tt&gt;</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="1_efuIMAmjzSpn9p7WalC6fA.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Food4uDoc
   &#160;<span id="projectnumber">1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('md_node_modules__0dmrmlnc_readdir-enhanced__r_e_a_d_m_e.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Enhanced <code>fs.readdir()</code> </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><blockquote class="doxtable">
<p>:warning: This is «fork» for original <code>readdir-enhanced</code> package but with some monkey fixes. </p>
</blockquote>
<p><a href="https://travis-ci.org/BigstickCarpet/readdir-enhanced"><object type="image/svg+xml" data="https://api.travis-ci.org/BigstickCarpet/readdir-enhanced.svg?branch=master" style="pointer-events: none;">Build Status</object></a> <a href="https://ci.appveyor.com/project/BigstickCarpet/readdir-enhanced/branch/master"><img src="https://ci.appveyor.com/api/projects/status/github/bigstickcarpet/readdir-enhanced?svg=true&amp;branch=master&amp;failingText=Windows%20build%20failing&amp;passingText=Windows%20build%20passing" alt="Windows Build Status" class="inline"/></a></p>
<p><a href="https://coveralls.io/github/BigstickCarpet/readdir-enhanced?branch=master"><object type="image/svg+xml" data="https://coveralls.io/repos/github/BigstickCarpet/readdir-enhanced/badge.svg?branch=master" style="pointer-events: none;">Coverage Status</object></a> <a href="https://www.codacy.com/public/jamesmessinger/readdir-enhanced"><img src="https://api.codacy.com/project/badge/Grade/178a817b6c864de7813fef457c0ed5ae" alt="Codacy Score" class="inline"/></a> <a href="http://inch-ci.org/github/BigstickCarpet/readdir-enhanced"><object type="image/svg+xml" data="http://inch-ci.org/github/BigstickCarpet/readdir-enhanced.svg?branch=master&amp;style=shields" style="pointer-events: none;">Inline docs</object></a> <a href="https://david-dm.org/BigstickCarpet/readdir-enhanced"><object type="image/svg+xml" data="https://david-dm.org/BigstickCarpet/readdir-enhanced.svg" style="pointer-events: none;">Dependencies</object></a></p>
<p><a href="https://www.npmjs.com/package/readdir-enhanced"><object type="image/svg+xml" data="https://img.shields.io/npm/v/readdir-enhanced.svg?maxAge=43200" style="pointer-events: none;">npm</object></a> [<object type="image/svg+xml" data="https://img.shields.io/npm/l/readdir-enhanced.svg?maxAge=2592000" style="pointer-events: none;">License</object>](LICENSE)</p>
<p><code>readdir-enhanced</code> is a <a href="#backward-compatible">backward-compatible</a> drop-in replacement for <a href="https://nodejs.org/api/fs.html#fs_fs_readdir_path_options_callback"><code>fs.readdir()</code></a> and <a href="https://nodejs.org/api/fs.html#fs_fs_readdirsync_path_options"><code>fs.readdirSync()</code></a> with tons of extra features (<a href="#filter">filtering</a>, <a href="#deep">recursion</a>, <a href="#basepath">absolute paths</a>, <a href="#stats">stats</a>, and more) as well as additional APIs for Promises, Streams, and EventEmitters.</p>
<h1><a class="anchor" id="autotoc_md453"></a>
Pick Your API</h1>
<p><code>readdir-enhanced</code> has multiple APIs, so you can pick whichever one you prefer. There are three main APIs:</p>
<ul>
<li><b>Synchronous API</b><br  />
 aliases: <code>readdir.sync</code>, <code>readdir.readdirSync</code><br  />
 Blocks the thread until all directory contents are read, and then returns all the results.</li>
<li><b>Async API</b><br  />
 aliases: <code>readdir</code>, <code>readdir.async</code>, <code>readdir.readdirAsync</code><br  />
 Reads the starting directory contents asynchronously and buffers all the results until all contents have been read. Supports callback or Promise syntax (see example below).</li>
<li><b>Streaming API</b><br  />
 aliases: <code>readdir.stream</code>, <code>readdir.readdirStream</code><br  />
 The streaming API reads the starting directory asynchronously and returns the results in real-time as they are read. The results can be <a href="https://nodejs.org/api/stream.html#stream_readable_pipe_destination_options">piped</a> to other Node.js streams, or you can listen for specific events via the <a href="https://nodejs.org/api/events.html#events_class_eventemitter">EventEmitter</a> interface. (see example below)</li>
</ul>
<div class="fragment"><div class="line">var readdir = require(&#39;readdir-enhanced&#39;);</div>
<div class="line">var through2 = require(&#39;through2&#39;);</div>
<div class="line"> </div>
<div class="line">// Synchronous API</div>
<div class="line">var files = readdir.sync(&#39;my/directory&#39;);</div>
<div class="line"> </div>
<div class="line">// Callback API</div>
<div class="line">readdir.async(&#39;my/directory&#39;, function(err, files) { ... });</div>
<div class="line"> </div>
<div class="line">// Promises API</div>
<div class="line">readdir.async(&#39;my/directory&#39;)</div>
<div class="line">  .then(function(files) { ... })</div>
<div class="line">  .catch(function(err) { ... });</div>
<div class="line"> </div>
<div class="line">// EventEmitter API</div>
<div class="line">readdir.stream(&#39;my/directory&#39;)</div>
<div class="line">  .on(&#39;data&#39;, function(path) { ... })</div>
<div class="line">  .on(&#39;file&#39;, function(path) { ... })</div>
<div class="line">  .on(&#39;directory&#39;, function(path) { ... })</div>
<div class="line">  .on(&#39;symlink&#39;, function(path) { ... })</div>
<div class="line">  .on(&#39;error&#39;, function(err) { ... });</div>
<div class="line"> </div>
<div class="line">// Streaming API</div>
<div class="line">var stream = readdir.stream(&#39;my/directory&#39;)</div>
<div class="line">  .pipe(through2.obj(function(data, enc, next) {</div>
<div class="line">    console.log(data);</div>
<div class="line">    this.push(data);</div>
<div class="line">    next();</div>
<div class="line">  });</div>
</div><!-- fragment --><p><a class="anchor" id="options"></a> </p>
<h1><a class="anchor" id="autotoc_md454"></a>
Enhanced Features</h1>
<p><code>readdir-enhanced</code> adds several features to the built-in <code>fs.readdir()</code> function. All of the enhanced features are opt-in, which makes <code>readdir-enhanced</code> <a href="#backward-compatible">fully backward compatible by default</a>. You can enable any of the features by passing-in an <code>options</code> argument as the second parameter.</p>
<p><a class="anchor" id="deep"></a> </p>
<h2><a class="anchor" id="autotoc_md455"></a>
Recursion</h2>
<p>By default, <code>readdir-enhanced</code> will only return the top-level contents of the starting directory. But you can set the <code>deep</code> option to recursively traverse the subdirectories and return their contents as well.</p>
<h3><a class="anchor" id="autotoc_md456"></a>
Crawl ALL subdirectories</h3>
<p>The <code>deep</code> option can be set to <code>true</code> to traverse the entire directory structure.</p>
<div class="fragment"><div class="line">var readdir = require(&#39;readdir-enhanced&#39;);</div>
<div class="line"> </div>
<div class="line">readdir(&#39;my/directory&#39;, {deep: true}, function(err, files) {</div>
<div class="line">  console.log(files);</div>
<div class="line">  // =&gt; subdir1</div>
<div class="line">  // =&gt; subdir1/file.txt</div>
<div class="line">  // =&gt; subdir1/subdir2</div>
<div class="line">  // =&gt; subdir1/subdir2/file.txt</div>
<div class="line">  // =&gt; subdir1/subdir2/subdir3</div>
<div class="line">  // =&gt; subdir1/subdir2/subdir3/file.txt</div>
<div class="line">});</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md457"></a>
Crawl to a specific depth</h3>
<p>The <code>deep</code> option can be set to a number to only traverse that many levels deep. For example, calling &lsquo;readdir('my/directory&rsquo;, {deep: 2})<code>will return</code>subdir1/file.txt<code>and</code>subdir1/subdir2/file.txt<code>, but it _won't_ return</code>subdir1/subdir2/subdir3/file.txt`.</p>
<div class="fragment"><div class="line">var readdir = require(&#39;readdir-enhanced&#39;);</div>
<div class="line"> </div>
<div class="line">readdir(&#39;my/directory&#39;, {deep: 2}, function(err, files) {</div>
<div class="line">  console.log(files);</div>
<div class="line">  // =&gt; subdir1</div>
<div class="line">  // =&gt; subdir1/file.txt</div>
<div class="line">  // =&gt; subdir1/subdir2</div>
<div class="line">  // =&gt; subdir1/subdir2/file.txt</div>
<div class="line">  // =&gt; subdir1/subdir2/subdir3</div>
<div class="line">});</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md458"></a>
Crawl subdirectories by name</h3>
<p>For simple use-cases, you can use a <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp">regular expression</a> or a <a href="https://github.com/isaacs/node-glob#glob-primer">glob pattern</a> to crawl only the directories whose path matches the pattern. The path is relative to the starting directory by default, but you can customize this via <a href="#basepath"><code>options.basePath</code></a>.</p>
<blockquote class="doxtable">
<p><b>NOTE:</b> Glob patterns <a href="https://github.com/isaacs/node-glob#windows"><em>always</em> use forward-slashes</a>, even on Windows. This <em>does not</em> apply to regular expressions though. Regular expressions should use the appropraite path separator for the environment. Or, you can match both types of separators using <code>[\\/]</code>. </p>
</blockquote>
<div class="fragment"><div class="line">var readdir = require(&#39;readdir-enhanced&#39;);</div>
<div class="line"> </div>
<div class="line">// Only crawl the &quot;lib&quot; and &quot;bin&quot; subdirectories</div>
<div class="line">// (notice that the &quot;node_modules&quot; subdirectory does NOT get crawled)</div>
<div class="line">readdir(&#39;my/directory&#39;, {deep: /lib|bin/}, function(err, files) {</div>
<div class="line">  console.log(files);</div>
<div class="line">  // =&gt; bin</div>
<div class="line">  // =&gt; bin/cli.js</div>
<div class="line">  // =&gt; lib</div>
<div class="line">  // =&gt; lib/index.js</div>
<div class="line">  // =&gt; node_modules</div>
<div class="line">  // =&gt; package.json</div>
<div class="line">});</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md459"></a>
Custom recursion logic</h3>
<p>For more advanced recursion, you can set the <code>deep</code> option to a function that accepts an <a href="https://nodejs.org/api/fs.html#fs_class_fs_stats"><code>fs.Stats</code></a> object and returns a truthy value if the starting directory should be crawled.</p>
<blockquote class="doxtable">
<p><b>NOTE:</b> The <a href="https://nodejs.org/api/fs.html#fs_class_fs_stats"><code>fs.Stats</code></a> object that's passed to the function has additional <code>path</code> and <code>depth</code> properties. The <code>path</code> is relative to the starting directory by default, but you can customize this via <a href="#basepath"><code>options.basePath</code></a>. The <code>depth</code> is the number of subdirectories beneath the base path (see <a href="#deep"><code>options.deep</code></a>). </p>
</blockquote>
<div class="fragment"><div class="line">var readdir = require(&#39;readdir-enhanced&#39;);</div>
<div class="line"> </div>
<div class="line">// Crawl all subdirectories, except &quot;node_modules&quot;</div>
<div class="line">function ignoreNodeModules (stats) {</div>
<div class="line">  return stats.path.indexOf(&#39;node_modules&#39;) === -1;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">readdir(&#39;my/directory&#39;, {deep: ignoreNodeModules}, function(err, files) {</div>
<div class="line">  console.log(files);</div>
<div class="line">  // =&gt; bin</div>
<div class="line">  // =&gt; bin/cli.js</div>
<div class="line">  // =&gt; lib</div>
<div class="line">  // =&gt; lib/index.js</div>
<div class="line">  // =&gt; node_modules</div>
<div class="line">  // =&gt; package.json</div>
<div class="line">});</div>
</div><!-- fragment --><p><a class="anchor" id="filter"></a> </p>
<h2><a class="anchor" id="autotoc_md460"></a>
Filtering</h2>
<p>The <code>filter</code> option lets you limit the results based on any criteria you want.</p>
<h3><a class="anchor" id="autotoc_md461"></a>
Filter by name</h3>
<p>For simple use-cases, you can use a <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp">regular expression</a> or a <a href="https://github.com/isaacs/node-glob#glob-primer">glob pattern</a> to filter items by their path. The path is relative to the starting directory by default, but you can customize this via <a href="#basepath"><code>options.basePath</code></a>.</p>
<blockquote class="doxtable">
<p><b>NOTE:</b> Glob patterns <a href="https://github.com/isaacs/node-glob#windows"><em>always</em> use forward-slashes</a>, even on Windows. This <em>does not</em> apply to regular expressions though. Regular expressions should use the appropraite path separator for the environment. Or, you can match both types of separators using <code>[\\/]</code>. </p>
</blockquote>
<div class="fragment"><div class="line">var readdir = require(&#39;readdir-enhanced&#39;);</div>
<div class="line"> </div>
<div class="line">// Find all .txt files</div>
<div class="line">readdir(&#39;my/directory&#39;, {filter: &#39;*.txt&#39;});</div>
<div class="line"> </div>
<div class="line">// Find all package.json files</div>
<div class="line">readdir(&#39;my/directory&#39;, {filter: &#39;**/package.json&#39;, deep: true});</div>
<div class="line"> </div>
<div class="line">// Find everything with at least one number in the name</div>
<div class="line">readdir(&#39;my/directory&#39;, {filter: /\d+/});</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md462"></a>
Custom filtering logic</h3>
<p>For more advanced filtering, you can specify a filter function that accepts an <a href="https://nodejs.org/api/fs.html#fs_class_fs_stats"><code>fs.Stats</code></a> object and returns a truthy value if the item should be included in the results.</p>
<blockquote class="doxtable">
<p><b>NOTE:</b> The <a href="https://nodejs.org/api/fs.html#fs_class_fs_stats"><code>fs.Stats</code></a> object that's passed to the filter function has additional <code>path</code> and <code>depth</code> properties. The <code>path</code> is relative to the starting directory by default, but you can customize this via <a href="#basepath"><code>options.basePath</code></a>. The <code>depth</code> is the number of subdirectories beneath the base path (see <a href="#deep"><code>options.deep</code></a>). </p>
</blockquote>
<div class="fragment"><div class="line">var readdir = require(&#39;readdir-enhanced&#39;);</div>
<div class="line"> </div>
<div class="line">// Only return file names containing an underscore</div>
<div class="line">function myFilter(stats) {</div>
<div class="line">  return stats.isFile() &amp;&amp; stats.path.indexOf(&#39;_&#39;) &gt;= 0;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">readdir(&#39;my/directory&#39;, {filter: myFilter}, function(err, files) {</div>
<div class="line">  console.log(files);</div>
<div class="line">  // =&gt; __myFile.txt</div>
<div class="line">  // =&gt; my_other_file.txt</div>
<div class="line">  // =&gt; img_1.jpg</div>
<div class="line">  // =&gt; node_modules</div>
<div class="line">});</div>
</div><!-- fragment --><p><a class="anchor" id="basepath"></a> </p>
<h2><a class="anchor" id="autotoc_md463"></a>
Base Path</h2>
<p>By default all <code>readdir-enhanced</code> functions return paths that are relative to the starting directory. But you can use the <code>basePath</code> option to customize this. The <code>basePath</code> will be prepended to all of the returned paths. One common use-case for this is to set <code>basePath</code> to the absolute path of the starting directory, so that all of the returned paths will be absolute.</p>
<div class="fragment"><div class="line">var readdir = require(&#39;readdir-enhanced&#39;);</div>
<div class="line">var path = require(&#39;path&#39;);</div>
<div class="line"> </div>
<div class="line">// Get absolute paths</div>
<div class="line">var absPath = path.resolve(&#39;my/dir&#39;);</div>
<div class="line">readdir(&#39;my/directory&#39;, {basePath: absPath}, function(err, files) {</div>
<div class="line">  console.log(files);</div>
<div class="line">  // =&gt; /absolute/path/to/my/directory/file1.txt</div>
<div class="line">  // =&gt; /absolute/path/to/my/directory/file2.txt</div>
<div class="line">  // =&gt; /absolute/path/to/my/directory/subdir</div>
<div class="line">});</div>
<div class="line"> </div>
<div class="line">// Get paths relative to the working directory</div>
<div class="line">readdir(&#39;my/directory&#39;, {basePath: &#39;my/directory&#39;}, function(err, files) {</div>
<div class="line">  console.log(files);</div>
<div class="line">  // =&gt; my/directory/file1.txt</div>
<div class="line">  // =&gt; my/directory/file2.txt</div>
<div class="line">  // =&gt; my/directory/subdir</div>
<div class="line">});</div>
</div><!-- fragment --><p><a class="anchor" id="sep"></a> </p>
<h2><a class="anchor" id="autotoc_md464"></a>
Path Separator</h2>
<p>By default, <code>readdir-enhanced</code> uses the correct path separator for your OS (<code>\</code> on Windows, <code>/</code> on Linux &amp; MacOS). But you can set the <code>sep</code> option to any separator character(s) that you want to use instead. This is usually used to ensure consistent path separators across different OSes.</p>
<div class="fragment"><div class="line">var readdir = require(&#39;readdir-enhanced&#39;);</div>
<div class="line"> </div>
<div class="line">// Always use Windows path separators</div>
<div class="line">readdir(&#39;my/directory&#39;, {sep: &#39;\\&#39;, deep: true}, function(err, files) {</div>
<div class="line">  console.log(files);</div>
<div class="line">  // =&gt; subdir1</div>
<div class="line">  // =&gt; subdir1\file.txt</div>
<div class="line">  // =&gt; subdir1\subdir2</div>
<div class="line">  // =&gt; subdir1\subdir2\file.txt</div>
<div class="line">  // =&gt; subdir1\subdir2\subdir3</div>
<div class="line">  // =&gt; subdir1\subdir2\subdir3\file.txt</div>
<div class="line">});</div>
</div><!-- fragment --><p><a class="anchor" id="fs"></a> </p>
<h2><a class="anchor" id="autotoc_md465"></a>
Custom FS methods</h2>
<p>By default, <code>readdir-enhanced</code> uses the default <a href="https://nodejs.org/api/fs.html">Node.js FileSystem module</a> for methods like <code>fs.stat</code>, <code>fs.readdir</code> and <code>fs.lstat</code>. But in some situations, you can want to use your own FS methods (FTP, SSH, remote drive and etc). So you can provide your own implementation of FS methods by setting <code>options.fs</code> or specific methods, such as <code>options.fs.stat</code>.</p>
<div class="fragment"><div class="line">var readdir = require(&#39;readdir-enhanced&#39;);</div>
<div class="line"> </div>
<div class="line">function myCustomReaddirMethod(dir, callback) {</div>
<div class="line">  callback(null, [&#39;__myFile.txt&#39;]);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">var options = {</div>
<div class="line">  fs: {</div>
<div class="line">    readdir: myCustomReaddirMethod</div>
<div class="line">  }</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line">readdir(&#39;my/directory&#39;, options, function(err, files) {</div>
<div class="line">  console.log(files);</div>
<div class="line">  // =&gt; __myFile.txt</div>
<div class="line">});</div>
</div><!-- fragment --><p><a class="anchor" id="stats"></a> </p>
<h1><a class="anchor" id="autotoc_md466"></a>
Get &lt;tt&gt;fs.Stats&lt;/tt&gt; objects instead of strings</h1>
<p>All of the <code>readdir-enhanced</code> functions listed above return an array of strings (paths). But in some situations, the path isn't enough information. So, <code>readdir-enhanced</code> provides alternative versions of each function, which return an array of <a href="https://nodejs.org/api/fs.html#fs_class_fs_stats"><code>fs.Stats</code></a> objects instead of strings. The <code>fs.Stats</code> object contains all sorts of useful information, such as the size, the creation date/time, and helper methods such as <code>isFile()</code>, <code>isDirectory()</code>, <code>isSymbolicLink()</code>, etc.</p>
<blockquote class="doxtable">
<p><b>NOTE:</b> The <a href="https://nodejs.org/api/fs.html#fs_class_fs_stats"><code>fs.Stats</code></a> objects that are returned also have additional <code>path</code> and <code>depth</code> properties. The <code>path</code> is relative to the starting directory by default, but you can customize this via <a href="#basepath"><code>options.basePath</code></a>. The <code>depth</code> is the number of subdirectories beneath the base path (see <a href="#deep"><code>options.deep</code></a>). </p>
</blockquote>
<p>To get <code>fs.Stats</code> objects instead of strings, just add the word "Stat" to the function name. As with the normal functions, each one is aliased (e.g. <code>readdir.async.stat</code> is the same as <code>readdir.readdirAsyncStat</code>), so you can use whichever naming style you prefer.</p>
<div class="fragment"><div class="line">var readdir = require(&#39;readdir-enhanced&#39;);</div>
<div class="line"> </div>
<div class="line">// Synchronous API</div>
<div class="line">var stats = readdir.sync.stat(&#39;my/directory&#39;);</div>
<div class="line">var stats = readdir.readdirSyncStat(&#39;my/directory&#39;);</div>
<div class="line"> </div>
<div class="line">// Async API</div>
<div class="line">readdir.async.stat(&#39;my/directory&#39;, function(err, stats) { ... });</div>
<div class="line">readdir.readdirAsyncStat(&#39;my/directory&#39;, function(err, stats) { ... });</div>
<div class="line"> </div>
<div class="line">// Streaming API</div>
<div class="line">readdir.stream.stat(&#39;my/directory&#39;)</div>
<div class="line">  .on(&#39;data&#39;, function(stat) { ... })</div>
<div class="line">  .on(&#39;file&#39;, function(stat) { ... })</div>
<div class="line">  .on(&#39;directory&#39;, function(stat) { ... })</div>
<div class="line">  .on(&#39;symlink&#39;, function(stat) { ... });</div>
<div class="line"> </div>
<div class="line">readdir.readdirStreamStat(&#39;my/directory&#39;)</div>
<div class="line">  .on(&#39;data&#39;, function(stat) { ... })</div>
<div class="line">  .on(&#39;file&#39;, function(stat) { ... })</div>
<div class="line">  .on(&#39;directory&#39;, function(stat) { ... })</div>
<div class="line">  .on(&#39;symlink&#39;, function(stat) { ... });</div>
</div><!-- fragment --><p><a class="anchor" id="backward-compatible"></a> </p>
<h1><a class="anchor" id="autotoc_md467"></a>
Backward Compatible</h1>
<p><code>readdir-enhanced</code> is fully backward-compatible with Node.js' built-in <code>fs.readdir()</code> and <code>fs.readdirSync()</code> functions, so you can use it as a drop-in replacement in existing projects without affecting existing functionality, while still being able to use the enhanced features as needed.</p>
<div class="fragment"><div class="line">var readdir = require(&#39;readdir-enhanced&#39;);</div>
<div class="line">var readdirSync = readdir.sync;</div>
<div class="line"> </div>
<div class="line">// Use it just like Node&#39;s built-in fs.readdir function</div>
<div class="line">readdir(&#39;my/directory&#39;, function(err, files) { ... });</div>
<div class="line"> </div>
<div class="line">// Use it just like Node&#39;s built-in fs.readdirSync function</div>
<div class="line">var files = readdirSync(&#39;my/directory&#39;);</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md468"></a>
Contributing</h1>
<p>I welcome any contributions, enhancements, and bug-fixes. <a href="https://github.com/BigstickCarpet/readdir-enhanced/issues">File an issue</a> on GitHub and <a href="https://github.com/BigstickCarpet/readdir-enhanced/pulls">submit a pull request</a>.</p>
<h3><a class="anchor" id="autotoc_md469"></a>
Building</h3>
<p>To build the project locally on your computer:</p>
<ol type="1">
<li><b>Clone this repo</b><br  />
 <code>git clone <a href="https://github.com/bigstickcarpet/readdir-enhanced.git">https://github.com/bigstickcarpet/readdir-enhanced.git</a></code></li>
<li><b>Install dependencies</b><br  />
 <code>npm install</code></li>
<li><b>Run the tests</b><br  />
 <code>npm test</code></li>
</ol>
<h1><a class="anchor" id="autotoc_md470"></a>
License</h1>
<p><code>readdir-enhanced</code> is 100% free and open-source, under the [MIT license](LICENSE). Use it however you want. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
